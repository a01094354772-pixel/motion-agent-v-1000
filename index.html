<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ì…˜ ì—ì´ì „íŠ¸ ë¸Œì´ | ì •ë°€ ì‚¬ê³  ì¸ê³¼ íŒë… í”Œë«í¼</title>
    <!-- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Urbanist:wght@400;700&family=Noto+Sans+KR:wght@300;400;700&display=swap');
        
        body { 
            font-family: 'Urbanist', 'Noto Sans KR', sans-serif; 
            background-color: #000; 
            color: #e2e8f0; 
            margin: 0; 
            overflow-x: hidden; 
        }

        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
        
        .neon-border { 
            border: 1px solid rgba(222, 255, 154, 0.2); 
            box-shadow: 0 0 20px rgba(222, 255, 154, 0.05); 
        }
        
        .grid-square { 
            transition: all 0.2s ease; 
            cursor: pointer; 
            border-radius: 1px; 
        }
        
        .grid-square:hover { 
            transform: scale(1.8); 
            z-index: 50; 
            outline: 1px solid white; 
            box-shadow: 0 0 20px rgba(255,255,255,0.6); 
        }
        
        .active-v { background-color: #deff9a !important; box-shadow: 0 0 4px #deff9a; } 
        .active-f { background-color: #3b82f6 !important; box-shadow: 0 0 4px #3b82f6; } 
        .active-x { background-color: #a855f7 !important; box-shadow: 0 0 4px #a855f7; }
        
        .profile-card { 
            transition: all 0.3s ease; 
            border: 1px solid rgba(255,255,255,0.1); 
            background: rgba(255,255,255,0.02); 
        }
        
        .profile-card:hover { 
            border-color: #deff9a; 
            background: rgba(222, 255, 154, 0.05); 
        }
        
        .profile-active { 
            border-color: #deff9a !important; 
            background: rgba(222, 255, 154, 0.1) !important; 
            transform: translateY(-3px); 
        }
        
        .vehicle-btn { 
            transition: all 0.3s ease; 
            border: 1px solid rgba(255,255,255,0.1); 
        }
        
        .vehicle-btn.active { 
            background-color: #deff9a; 
            color: #000; 
            font-weight: 800; 
            border-color: #deff9a; 
            box-shadow: 0 0 15px rgba(222, 255, 154, 0.3); 
        }

        @keyframes scan-line { 0% { top: 0; } 100% { top: 100%; } }
        .scanner { 
            position: absolute; 
            left: 0; 
            width: 100%; 
            height: 2px; 
            background: #deff9a; 
            box-shadow: 0 0 15px #deff9a; 
            z-index: 60; 
            animation: scan-line 2s infinite linear; 
        }
        
        @keyframes pulse-white { 
            0%, 100% { box-shadow: 0 0 10px white; border: 1px solid white; } 
            50% { box-shadow: 0 0 30px white; border: 2px solid white; } 
        }
        
        .matched-highlight { 
            animation: pulse-white 1s infinite; 
            transform: scale(2.0) !important; 
            z-index: 100 !important; 
            background-color: #fff !important; 
        }
        
        @keyframes pulse-soft { 0%, 100% { opacity: 0.5; } 50% { opacity: 1; } }
        .animate-pulse-soft { animation: pulse-soft 2s infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        const App = () => {
            const [selectedVehicle, setSelectedVehicle] = useState('Sedan'); 
            const [selectedProfile, setSelectedProfile] = useState(null);
            const [builtIndicesMap, setBuiltIndicesMap] = useState({ Sedan: new Set(), Truck: new Set(), Bus: new Set() });
            
            const [isBuilding, setIsBuilding] = useState(false);
            const [isSimulating, setIsSimulating] = useState(false);
            const [currentCaseIndex, setCurrentCaseIndex] = useState(-1);
            const [logs, setLogs] = useState(["> ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ. ë¶„ì„ ì°¨ì¢…ê³¼ ì•Œê³ ë¦¬ì¦˜ í”„ë¡œí•„ì„ ì„ íƒí•˜ì‹­ì‹œì˜¤."]);

            const STANDARDS = { speed: 60.0, friction: 0.80, latency: 0.10 };

            const vehicleTypes = [
                { id: 'Sedan', name: 'ìŠ¹ìš©ì°¨', weight: 1.0, icon: 'fa-car' },
                { id: 'Truck', name: 'ëŒ€í˜•íŠ¸ëŸ­', weight: 2.5, icon: 'fa-truck' },
                { id: 'Bus', name: 'ë²„ìŠ¤', weight: 1.8, icon: 'fa-bus' }
            ];

            const profiles = [
                { id: 'v', name: 'ë¹„ì „ ì „ìš©', icon: 'fa-eye', color: '#deff9a', target: 'Tesla FSD ë“±', count: 300, range: [0, 299] },
                { id: 'f', name: 'ì„¼ì„œ ìœµí•©', icon: 'fa-microchip', color: '#3b82f6', target: 'Waymo, í˜„ëŒ€ì°¨ ë“±', count: 300, range: [300, 599] },
                { id: 'x', name: 'ì»¤ë„¥í‹°ë“œ V2X', icon: 'fa-tower-broadcast', color: '#a855f7', target: 'ë¡œë³´ì…”í‹€/íƒì‹œ', count: 400, range: [600, 999] }
            ];

            const libraryData = useMemo(() => {
                const vFactor = vehicleTypes.find(v => v.id === selectedVehicle).weight;

                return Array.from({ length: 1000 }, (_, i) => {
                    let type, typeName, scenario, actual;
                    
                    const genCase = (bSpeed, bFric, bLat) => {
                        const s = bSpeed + (Math.random() * 24 - 12);
                        const f = Math.max(0.1, bFric + (Math.random() * 0.2 - 0.1));
                        const l = Math.max(0.01, bLat + (Math.random() * 0.2 - 0.1));
                        
                        // ë¬¼ë¦¬ ë¦¬ìŠ¤í¬ ì‚°ì¶œ (ì°¨ì¢… ê°€ì¤‘ì¹˜ ë°˜ì˜)
                        const sRisk = Math.pow(Math.max(0, s - STANDARDS.speed), 1.5) * 5 * vFactor;
                        const fRisk = Math.pow(Math.max(0, STANDARDS.friction - f), 1.5) * 150 * vFactor;
                        const lRisk = Math.pow(Math.max(0, l - STANDARDS.latency), 1.5) * 300;
                        
                        const total = sRisk + fRisk + lRisk + 0.1;
                        
                        return {
                            actual: { speed: s, friction: f, latency: l },
                            liabilities: {
                                op: Math.round(sRisk/total*100),
                                env: Math.round(fRisk/total*100),
                                oem: Math.round(lRisk/total*100)
                            }
                        };
                    };

                    const dice = i % 3;
                    if (i < 300) {
                        typeName = "ë¹„ì „ ì „ìš©"; type = "v";
                        const d = genCase(dice === 1 ? 82 : 60, dice === 2 ? 0.35 : 0.8, dice === 0 ? 0.32 : 0.1);
                        scenario = ["ì—­ê´‘ ë…¸ì¶œ ì¸ì§€ ì†Œì‹¤", "ìš´ì˜ì‚¬ ì„¤ì • ì†ë„ ê³¼ë‹¤", "ë…¸ë©´ ë§ˆì°°ë ¥ ê¸‰ê°"][dice];
                        return { id: i + 1, type, typeName, scenario, liabilities: d.liabilities, actual: d.actual };
                    } else if (i < 600) {
                        typeName = "ì„¼ì„œ ìœµí•©"; type = "f";
                        const d = genCase(dice === 1 ? 75 : 62, dice === 2 ? 0.45 : 0.75, dice === 0 ? 0.38 : 0.1);
                        scenario = ["ì„¼ì„œ ë°ì´í„° ì •í•©ì„± ì¶©ëŒ", "íƒ€ì´ì–´ ë§ˆëª¨ ê´€ë¦¬ ì†Œí™€", "ê³ ìŠ¤íŠ¸ ê°ì²´ ì¸ì§€ ì˜¤ë¥˜"][dice];
                        return { id: i + 1, type, typeName, scenario, liabilities: d.liabilities, actual: d.actual };
                    } else {
                        typeName = "ì»¤ë„¥í‹°ë“œ V2X"; type = "x";
                        const d = genCase(dice === 1 ? 72 : 60, dice === 2 ? 0.5 : 0.8, dice === 0 ? 0.45 : 0.1);
                        scenario = ["ë„¤íŠ¸ì›Œí¬ ì§€ì—° ê´€ì œ ì‹¤íŒ¨", "I-ITS ì‹ í˜¸ ë¹„ë™ê¸°", "ë°°í„°ë¦¬ ì „ì•• ê¸‰ê°•í•˜ ê²°í•¨"][dice];
                        return { id: i + 1, type, typeName, scenario, liabilities: d.liabilities, actual: d.actual };
                    }
                });
            }, [selectedVehicle]);

            const addLog = (msg) => setLogs(prev => [...prev.slice(-10), `> ${msg}`]);

            const startBuilding = () => {
                if (!selectedProfile || isBuilding || isSimulating) return;
                setIsBuilding(true);
                addLog(`${selectedVehicle} ë¬¼ë¦¬ í”„ë¡œí•„ í•˜ì— ${selectedProfile.name} ë¼ì´ë¸ŒëŸ¬ë¦¬ í•©ì„± ì¤‘...`);
                const [start, end] = selectedProfile.range;
                let current = start;
                const interval = setInterval(() => {
                    const batchSize = 25; 
                    setBuiltIndicesMap(prev => {
                        const nextSet = new Set(prev[selectedVehicle]);
                        for (let i = 0; i < batchSize; i++) {
                            if (current <= end) { nextSet.add(current); current++; }
                        }
                        return { ...prev, [selectedVehicle]: nextSet };
                    });
                    if (current > end) {
                        clearInterval(interval);
                        setIsBuilding(false);
                        addLog(`${selectedVehicle} ì „ìš© ${selectedProfile.name} ì—£ì§€ ì¼€ì´ìŠ¤ êµ¬ì¶• ì™„ë£Œ.`);
                    }
                }, 40);
            };

            const runAccidentSim = () => {
                const currentBuilt = builtIndicesMap[selectedVehicle];
                if (currentBuilt.size === 0) { addLog("ê²½ê³ : ë¨¼ì € ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ êµ¬ì¶•í•´ì•¼ í•©ë‹ˆë‹¤."); return; }
                setIsSimulating(true);
                setCurrentCaseIndex(-1);
                addLog(`ğŸš¨ [ê¸´ê¸‰] ${selectedVehicle} ì‚¬ê³  ì‹œê·¸ë„ ìœ ì… í¬ì°©...`);
                setTimeout(() => {
                    const builtArr = Array.from(currentBuilt);
                    const matchIdx = builtArr[Math.floor(Math.random() * builtArr.length)];
                    setTimeout(() => {
                        setCurrentCaseIndex(matchIdx);
                        setIsSimulating(false);
                        addLog(`ğŸ¯ [ë§¤ì¹­ ì„±ê³µ] ì‹œë‚˜ë¦¬ì˜¤ #${matchIdx + 1}ê³¼ ë¬¼ë¦¬ ê±°ë™ 99.8% ì¼ì¹˜.`);
                    }, 1500);
                }, 1000);
            };

            const currentBuiltSet = builtIndicesMap[selectedVehicle];

            // ê°€ì¥ ë†’ì€ ê¸°ì—¬ë„ í•­ëª©ì„ ì°¾ì•„ ì¸ê³¼ ë¶„ì„ í…ìŠ¤íŠ¸ ìƒì„±
            const getPrimaryCauseText = (data) => {
                if (!data) return "";
                const { op, env, oem } = data.liabilities;
                const maxVal = Math.max(op, env, oem);
                
                let causeDetail = "";
                if (maxVal === op) {
                    causeDetail = `ê·œì • ì†ë„ë¥¼ ìƒíšŒí•˜ëŠ” ì£¼í–‰ ì—ë„ˆì§€ë¡œ ì¸í•´ ë¬¼ë¦¬ì  ì œë™ í•œê³„ ê±°ë¦¬ë¥¼ ì´ˆê³¼í•œ ê²ƒì´ ì‚¬ê³ ì˜ ê²°ì •ì  ì›ì¸(ê¸°ì—¬ë„ ${op}%)ìœ¼ë¡œ íŒë…ë˜ì—ˆìŠµë‹ˆë‹¤.`;
                } else if (maxVal === env) {
                    causeDetail = `ì‚¬ê³  ë‹¹ì‹œ ë…¸ë©´ ë§ˆì°° ê³„ìˆ˜ê°€ ${data.actual.friction.toFixed(2)}Î¼ë¡œ ê¸‰ë½í•˜ì—¬, ì‹œìŠ¤í…œì˜ ì •ìƒì  ì œë™ë ¥ ì¸ê°€ì—ë„ ë¶ˆêµ¬í•˜ê³  ë¬¼ë¦¬ì  ì ‘ì§€ë ¥ ìƒì‹¤ì´ ì£¼ì›ì¸(ê¸°ì—¬ë„ ${env}%)ìœ¼ë¡œ ë¶„ì„ë˜ì—ˆìŠµë‹ˆë‹¤.`;
                } else {
                    causeDetail = `ì¸ì§€ ë° íŒë‹¨ ì•Œê³ ë¦¬ì¦˜ì˜ ì—°ì‚° ì§€ì—°(${data.actual.latency.toFixed(2)}s)ì´ ì„¤ê³„ í‘œì¤€ì„ ë²—ì–´ë‚˜ íšŒí”¼ ê¸°ë™ ê³¨ë“ íƒ€ì„ì„ ì‹¤ê¸°í•œ ê²ƒì´ í•µì‹¬ ê²°í•¨(ê¸°ì—¬ë„ ${oem}%)ìœ¼ë¡œ ì§€ëª©ë˜ì—ˆìŠµë‹ˆë‹¤.`;
                }

                return `ë³¸ ì‚¬ë¡€ëŠ” ${selectedVehicle}ì˜ ë¬¼ë¦¬ ê°€ì¤‘ì¹˜ì™€ ${data.typeName} ì•Œê³ ë¦¬ì¦˜ í™˜ê²½ í•˜ì— íŒë…ë˜ì—ˆìŠµë‹ˆë‹¤. ë¶„ì„ ê²°ê³¼, ${causeDetail}`;
            };

            return (
                <div className="p-8 max-w-[1600px] mx-auto min-h-screen flex flex-col bg-black text-left">
                    <header className="flex justify-between items-end border-b border-white/10 pb-6 mb-10 text-left">
                        <div>
                            <div className="flex items-center gap-3 mb-1">
                                <span className="bg-[#deff9a] text-black text-[10px] font-black px-2 py-0.5 rounded uppercase font-bold">Verified Infrastructure</span>
                                <h1 className="text-4xl font-black text-white italic tracking-tighter text-left uppercase">Motion Agent-V</h1>
                            </div>
                            <p className="text-slate-500 text-xs font-bold uppercase tracking-widest italic text-left">Multi-Vehicle & Algorithm-Specific 1,000 Edge Library Platform</p>
                        </div>
                        <div className="flex gap-10">
                            <div className="text-right">
                                <span className="text-[10px] text-slate-500 font-bold block mb-1 uppercase tracking-tighter text-right">íŒë… í•´ìƒë„</span>
                                <span className="text-emerald-400 text-sm font-black tracking-widest uppercase">100Hz Real-Time</span>
                            </div>
                            <button onClick={() => location.reload()} className="bg-white/5 hover:bg-white/10 text-white text-xs px-5 py-2 rounded-xl font-bold transition-all border border-white/10 flex items-center gap-2">
                                <i className="fa-solid fa-rotate-left"></i> ì´ˆê¸°í™”
                            </button>
                        </div>
                    </header>

                    <div className="grid grid-cols-1 lg:grid-cols-[450px_1fr] gap-10 flex-grow">
                        <aside className="space-y-6">
                            <div className="bg-[#0a0a0a] rounded-3xl p-8 neon-border flex flex-col h-full min-h-[650px] text-left">
                                <h2 className="text-[#deff9a] text-[11px] font-black uppercase tracking-widest mb-6 flex items-center gap-3">
                                    <span className="w-2.5 h-2.5 bg-[#deff9a] rounded-full animate-pulse"></span> 1. ë¶„ì„ ì°¨ì¢… ì„ íƒ
                                </h2>
                                <div className="flex gap-2 mb-8">
                                    {vehicleTypes.map(v => (
                                        <button key={v.id} onClick={() => { setSelectedVehicle(v.id); setCurrentCaseIndex(-1); addLog(`${v.name} ë¬¼ë¦¬ ì—”ì§„ í”„ë¡œí•„ í™œì„±í™”.`); }} className={`vehicle-btn flex-1 py-4 rounded-xl flex flex-col items-center gap-2 ${selectedVehicle === v.id ? 'active' : 'bg-white/5 text-slate-500'}`}>
                                            <i className={`fa-solid ${v.icon} text-xl`}></i>
                                            <span className="text-[11px] font-bold">{v.name}</span>
                                        </button>
                                    ))}
                                </div>

                                <h2 className="text-[#deff9a] text-[11px] font-black uppercase tracking-widest mb-6 flex items-center gap-3">
                                    <span className="w-2.5 h-2.5 bg-[#deff9a] rounded-full animate-pulse"></span> 2. ì•Œê³ ë¦¬ì¦˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì¶•
                                </h2>
                                <div className="space-y-3 flex-grow text-left">
                                    {profiles.map(p => (
                                        <div key={p.id} onClick={() => !isBuilding && !isSimulating && setSelectedProfile(p)} className={`profile-card p-5 rounded-2xl cursor-pointer flex items-center gap-6 ${selectedProfile?.id === p.id ? 'profile-active' : ''}`}>
                                            <div className="w-12 h-12 rounded-full bg-black flex items-center justify-center border border-white/10 shadow-inner">
                                                <i className={`fa-solid ${p.icon} text-lg`} style={{color: p.color}}></i>
                                            </div>
                                            <div className="flex-grow text-left">
                                                <div className="flex justify-between items-center mb-1">
                                                    <span className="font-bold text-sm text-white">{p.name}</span>
                                                    <span className="text-[9px] text-slate-500 font-bold uppercase">{p.target}</span>
                                                </div>
                                                <p className="text-[10px] text-slate-400 text-left">ë°ì´í„° ë¹„ì¤‘: <strong style={{color: p.color}}>{p.count}ê±´</strong> | <span className={currentBuiltSet.has(p.range[0]) ? "text-emerald-400" : "text-slate-600"}>{currentBuiltSet.has(p.range[0]) ? "êµ¬ì¶•ì™„ë£Œ" : "ëŒ€ê¸°ì¤‘"}</span></p>
                                            </div>
                                        </div>
                                    ))}

                                    <div className="pt-6 space-y-3">
                                        <button onClick={startBuilding} disabled={!selectedProfile || isBuilding || isSimulating || currentBuiltSet.has(selectedProfile.range[0])} className="w-full bg-[#deff9a] text-black py-4 rounded-xl font-black text-sm mt-4 hover:brightness-110 disabled:opacity-20 transition-all shadow-xl uppercase tracking-tighter">
                                            {selectedProfile ? (currentBuiltSet.has(selectedProfile.range[0]) ? "êµ¬ì¶• ì™„ë£Œë¨" : `${selectedProfile.name} ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì¶•`) : "ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ì‹­ì‹œì˜¤"}
                                        </button>

                                        <button onClick={runAccidentSim} disabled={currentBuiltSet.size === 0 || isBuilding || isSimulating} className="w-full bg-red-600 text-white py-4 rounded-xl font-black text-sm hover:bg-red-500 disabled:opacity-20 transition-all shadow-xl flex items-center justify-center gap-3 uppercase tracking-tighter">
                                            {isSimulating ? "ë°ì´í„° ë¶„ì„ ì¤‘..." : "ì‹¤ì œ ì‚¬ê³  ì‹œë®¬ë ˆì´ì…˜"}
                                            <i className="fa-solid fa-car-burst"></i>
                                        </button>
                                    </div>
                                    <div className="mt-8 bg-black/60 p-5 rounded-2xl border border-white/5 h-32 overflow-y-auto font-mono text-[11px] text-emerald-500/80 leading-relaxed custom-scrollbar text-left">
                                        {logs.map((l, i) => <div key={i}>{l}</div>)}
                                    </div>
                                </div>
                            </div>
                        </aside>

                        <main className="flex flex-col gap-8">
                            <div className="bg-[#0a0a0a] rounded-[40px] p-10 neon-border flex flex-col flex-grow relative overflow-hidden text-left">
                                <div className="flex justify-between items-end mb-8 text-left">
                                    <div>
                                        <h2 className="text-3xl font-black text-white italic tracking-tighter uppercase mb-2">[{selectedVehicle}] ì „ìš© ì—£ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§µ</h2>
                                        <p className="text-slate-500 text-xs font-bold uppercase tracking-widest text-left">Physics-Weighted 1,000 Edge Scenarios (Weight={vehicleTypes.find(v=>v.id===selectedVehicle).weight})</p>
                                    </div>
                                    <div className="flex gap-8 text-[11px] font-black uppercase tracking-tighter">
                                        <span className="flex items-center gap-2"><div className="w-3.5 h-3.5 rounded-sm bg-[#deff9a]"></div> ë¹„ì „ (300)</span>
                                        <span className="flex items-center gap-2"><div className="w-3.5 h-3.5 rounded-sm bg-[#3b82f6]"></div> ìœµí•© (300)</span>
                                        <span className="flex items-center gap-2"><div className="w-3.5 h-3.5 rounded-sm bg-[#a855f7]"></div> V2X (400)</span>
                                    </div>
                                </div>

                                <div className="bg-black/60 rounded-[30px] p-10 border border-white/5 flex-grow overflow-hidden shadow-inner relative">
                                    {isSimulating && <div className="scanner"></div>}
                                    <div className="grid grid-cols-[repeat(40,minmax(0,1fr))] gap-1.5 h-full overflow-y-auto pr-6 custom-scrollbar text-left">
                                        {libraryData.map((item, i) => {
                                            const isBuilt = currentBuiltSet.has(i);
                                            const isMatched = currentCaseIndex === i;
                                            const activeClass = item.type === "v" ? "active-v" : (item.type === "f" ? "active-f" : "active-x");
                                            return (
                                                <div 
                                                    key={i}
                                                    onClick={() => isBuilt && !isSimulating && setCurrentCaseIndex(i)}
                                                    className={`grid-square aspect-square ${isBuilt ? activeClass : 'bg-white/5'} ${isMatched ? 'matched-highlight' : ''}`}
                                                    title={`ì‚¬ë¡€ #${item.id}: ${item.scenario}`}
                                                />
                                            );
                                        })}
                                    </div>
                                    
                                    {currentBuiltSet.size === 0 && !isBuilding && (
                                        <div className="absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-md z-30">
                                            <div className="text-center">
                                                <i className="fa-solid fa-microchip text-5xl text-[#deff9a] mb-6 animate-pulse"></i>
                                                <p className="text-2xl font-black text-white uppercase tracking-tighter">ë¶„ì„ ì°¨ì¢… ë° í”„ë¡œí•„ì„ ì„ íƒí•˜ì—¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ êµ¬ì¶•í•˜ì‹­ì‹œì˜¤.</p>
                                            </div>
                                        </div>
                                    )}
                                </div>

                                {currentCaseIndex !== -1 && (
                                    <div className="mt-10 p-10 bg-white/[0.03] rounded-[35px] border border-white/10 animate-in slide-in-from-bottom-6 duration-500 text-left">
                                        <div className="grid grid-cols-1 xl:grid-cols-[1fr_380px] gap-12 text-left">
                                            <div className="text-left">
                                                <div className="flex items-center gap-4 mb-8 text-left">
                                                    <span className="text-[11px] bg-blue-600 text-white px-4 py-1.5 rounded-full font-black uppercase shadow-lg shadow-blue-500/20 text-left">ì •ë°€ ì¸ê³¼ ë¶„ì„ ì„±ê³µ</span>
                                                    <h3 className="text-3xl font-black tracking-tighter text-white text-left">ì‚¬ë¡€ #{String(libraryData[currentCaseIndex].id).padStart(4, '0')} : <span className="text-[#deff9a] ml-4">[{libraryData[currentCaseIndex].scenario}]</span></h3>
                                                </div>
                                                
                                                <div className="overflow-hidden rounded-2xl border border-white/5 bg-black/40 mb-10 shadow-2xl">
                                                    <table className="w-full text-left border-collapse">
                                                        <thead>
                                                            <tr className="bg-white/5 text-left">
                                                                <th className="p-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest text-left">ë¬¼ë¦¬ ë¶„ì„ í•­ëª©</th>
                                                                <th className="p-4 text-[10px] font-bold text-red-400 uppercase tracking-widest text-center">ì‚¬ê³  ì‹œ ì‹¤ì¸¡</th>
                                                                <th className="p-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest text-center">ì •ìƒ í‘œì¤€</th>
                                                                <th className="p-4 text-[10px] font-bold text-[#deff9a] uppercase tracking-widest text-right">ê¸°ì—¬ë„</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr className="border-t border-white/5 text-left">
                                                                <td className="p-4 font-bold text-slate-300 text-sm text-left uppercase">Speed (ì£¼í–‰ ì†ë„)</td>
                                                                <td className="p-4 text-center text-white font-black text-xl">{libraryData[currentCaseIndex].actual.speed.toFixed(1)} <small className="text-[10px] text-slate-500 font-normal ml-1">km/h</small></td>
                                                                <td className="p-4 text-center text-slate-500 text-sm font-bold">{STANDARDS.speed.toFixed(1)} km/h</td>
                                                                <td className="p-4 text-right text-[#deff9a] font-black text-2xl">{libraryData[currentCaseIndex].liabilities.op}%</td>
                                                            </tr>
                                                            <tr className="border-t border-white/5 text-left">
                                                                <td className="p-4 font-bold text-slate-300 text-sm text-left uppercase">Friction (ë…¸ë©´ ë§ˆì°°)</td>
                                                                <td className="p-4 text-center text-white font-black text-xl">{libraryData[currentCaseIndex].actual.friction.toFixed(2)} <small className="text-[10px] text-slate-500 font-normal ml-1">Î¼</small></td>
                                                                <td className="p-4 text-center text-slate-500 text-sm font-bold">{STANDARDS.friction.toFixed(2)} Î¼</td>
                                                                <td className="p-4 text-right text-[#deff9a] font-black text-2xl">{libraryData[currentCaseIndex].liabilities.env}%</td>
                                                            </tr>
                                                            <tr className="border-t border-white/5 text-left">
                                                                <td className="p-4 font-bold text-slate-300 text-sm text-left uppercase">Latency (ì¸ì§€ ì§€ì—°)</td>
                                                                <td className="p-4 text-center text-white font-black text-xl">{libraryData[currentCaseIndex].actual.latency.toFixed(2)} <small className="text-[10px] text-slate-500 font-normal ml-1">s</small></td>
                                                                <td className="p-4 text-center text-slate-500 text-sm font-bold">{STANDARDS.latency.toFixed(2)} s</td>
                                                                <td className="p-4 text-right text-[#deff9a] font-black text-2xl">{libraryData[currentCaseIndex].liabilities.oem}%</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                                <div className="border-t border-white/10 pt-8 text-left">
                                                    <span className="text-[#deff9a] text-[12px] font-black uppercase tracking-widest mb-4 block text-left">ê³µí•™ì  ì‚¬ê³  ì¸ê³¼ ë¶„ì„ ìš”ì•½</span>
                                                    <p className="text-xl leading-relaxed text-slate-200 font-medium italic text-left">
                                                        {getPrimaryCauseText(libraryData[currentCaseIndex])}
                                                    </p>
                                                </div>
                                            </div>

                                            <div className="bg-black/50 p-10 rounded-[40px] border border-white/5 flex flex-col justify-center text-left">
                                                <h4 className="text-[11px] font-black text-slate-500 uppercase mb-8 tracking-widest border-b border-white/10 pb-4 text-left">Metadata & Verification</h4>
                                                <div className="space-y-6 text-sm text-left">
                                                    <div className="flex justify-between items-center text-left">
                                                        <span className="text-slate-500 text-left">ì„ íƒ ì°¨ì¢…</span>
                                                        <span className="font-bold text-white uppercase text-xs text-left">{selectedVehicle} (Profile Loaded)</span>
                                                    </div>
                                                    <div className="flex justify-between items-center text-left">
                                                        <span className="text-slate-500 text-left">ë¬¼ë¦¬ í•´ìƒë„</span>
                                                        <span className="font-bold text-[#deff9a] text-xs text-left">100Hz (0.01s)</span>
                                                    </div>
                                                    <div className="flex justify-between items-center text-left">
                                                        <span className="text-slate-500 text-left">ë³´ì•ˆ ìˆ˜ì¤€</span>
                                                        <span className="font-bold text-blue-400 uppercase text-xs text-left">SHA-256 Secured</span>
                                                    </div>
                                                    <div className="pt-6 text-left">
                                                        <p className="text-[10px] text-slate-600 leading-relaxed italic text-center text-left">
                                                            * íŒë…ëœ ëª¨ë“  ê²°ê³¼ëŠ” ìœ„ë³€ì¡°ê°€ ë¶ˆê°€ëŠ¥í•œ í•´ì‹œì²´ì¸ ë¡œê·¸ì— ì˜í•´ ë¬´ê²°ì„±ì´ ë³´ì¦ë©ë‹ˆë‹¤.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </main>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
